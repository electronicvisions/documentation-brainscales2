<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.hagen.synapse_driver.SynapseDriverMeasurement &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.hagen.HagenCalibOptions" href="calix.hagen.HagenCalibOptions.html" />
    <link rel="prev" title="calix.hagen.synapse_driver.SynapseDriverCalibResult" href="calix.hagen.synapse_driver.SynapseDriverCalibResult.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../apis_python.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynn_brainscales.brainscales2.html">pynn_brainscales.brainscales2</a></li>
<li class="toctree-l3"><a class="reference internal" href="hxtorch.html">hxtorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygrenade_vx.html">pygrenade_vx</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apis_cpp.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../apis.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="../apis_python.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="calix.html">calix</a></li>
          <li class="breadcrumb-item"><a href="calix.hagen.html">calix.hagen</a></li>
          <li class="breadcrumb-item"><a href="calix.hagen.synapse_driver.html">calix.hagen.synapse_driver</a></li>
      <li class="breadcrumb-item active">calix.hagen.synapse_driver.SynapseDriverMeasurement</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.hagen.synapse_driver.SynapseDriverMeasurement.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="calix-hagen-synapse-driver-synapsedrivermeasurement">
<h1>calix.hagen.synapse_driver.SynapseDriverMeasurement<a class="headerlink" href="#calix-hagen-synapse-driver-synapsedrivermeasurement" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">calix.hagen.synapse_driver.</span></code><code class="sig-name descname"><span class="pre">SynapseDriverMeasurement</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_parallel_measurements</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides a function to measure output amplitudes of each synapse
driver.</p>
<p>Each synapse driver is connected to at least 8 synapse columns,
their median result is taken as the driver’s output amplitude.
The requested number of parallel measurements determines how many
synapse columns are used per driver: If only one driver is measured
at a time, all 256 synapse columns are used.</p>
<p>When several synapse drivers are measured in parallel, events are
sent to one synapse driver after another. Due to analog effects in
the synapse array, earlier events will result in a lower activation
than later events. Do not use more than one parallel measurement
if you cannot cope with this effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_parallel_measurements</strong> – Number of synapse drivers to be
measured in one run. Only powers of 2 are supported, i.e.
possible values are 1, 2, 4, 8, 16, 32. We do not support
more than 32 parallel measurements since we require at least
8 synapse columns per driver, in order to take the median
read from those as the driver’s output.</p></li>
<li><p><a class="reference internal" href="calix.hagen.multiplication.html#module-calix.hagen.multiplication" title="calix.hagen.multiplication"><strong>multiplication</strong></a> – Multiplication class used for measurements.
Each measurement run is a vector-matrix multiplication.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_parallel_measurements</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.__init__" title="calix.hagen.synapse_driver.SynapseDriverMeasurement.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([n_parallel_measurements])</p></td>
<td><p>Initialize self.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_input_vectors" title="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_input_vectors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_input_vectors</span></code></a>(activations)</p></td>
<td><p>Create vectors that are multiplied with the synapse matrix in order to characterize all drivers’ outputs at the given activations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_mapping" title="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_mapping"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_synapse_mapping</span></code></a>(driver)</p></td>
<td><p>Return mask of synapses to enable in a row.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_matrix" title="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_synapse_matrix</span></code></a>([weight])</p></td>
<td><p>Return a mapping matrix using the given weight.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.measure_syndrv_amplitudes" title="calix.hagen.synapse_driver.SynapseDriverMeasurement.measure_syndrv_amplitudes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">measure_syndrv_amplitudes</span></code></a>(connection, …[, …])</p></td>
<td><p>Multiply the given activation with a suitable weight matrix to determine the output amplitudes of each driver.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_input_vectors">
<code class="sig-name descname"><span class="pre">get_input_vectors</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">activations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_input_vectors" title="Permalink to this definition"></a></dt>
<dd><p>Create vectors that are multiplied with the synapse matrix in
order to characterize all drivers’ outputs at the given
activations.</p>
<p>In each vector, we send activations to a subset of drivers, that
has different columns for their results. Hence, the unique
activations of each driver can be obtained. Only in the next
vector, we reuse the same columns in order to characterize
each synapse driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>activations</strong> – Array of activations, each is tested.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of vectors, to be used as input for multiplication.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_mapping">
<code class="sig-name descname"><span class="pre">get_synapse_mapping</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhalco_hicann_dls_vx_v3.SynapseDriverOnSynapseDriverBlock</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Return mask of synapses to enable in a row.</p>
<p>This function can be called for all synapse drivers and will
return a synapse matrix that allows measuring amplitudes from
a block of <cite>self.n_parallel_measurements</cite> drivers in parallel.
The synapse matrix is configured such that the drivers which
are measured in parallel do not use the same synapse columns.
For the next block of synapse drivers which are measured in
parallel, the same synapse columns as for the previous block
can be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>driver</strong> – Coordinate of the synapse driver which shall be
connected to neurons.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Boolean mask of enabled synapses within the synapse driver’s
row.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_matrix">
<code class="sig-name descname"><span class="pre">get_synapse_matrix</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhaldls_vx_v3.SynapseWeightQuad.Value</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">63</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.get_synapse_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Return a mapping matrix using the given weight.</p>
<p>For the mapping, we use the function <cite>get_synapse_mapping</cite>,
which yields a connection matrix between the drivers and neurons.
This mapping is designed to create a non-overlapping synapse matrix
that allows parallel measurement of multiple drivers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>weight</strong> – Weight to configure the enabled synapses to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Numpy array of weight matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.hagen.synapse_driver.SynapseDriverMeasurement.measure_syndrv_amplitudes">
<code class="sig-name descname"><span class="pre">measure_syndrv_amplitudes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">pyhaldls_vx_v3.PADIEvent.HagenActivation</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhaldls_vx_v3.SynapseWeightQuad.Value</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">63</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_runs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sends</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.synapse_driver.SynapseDriverMeasurement.measure_syndrv_amplitudes" title="Permalink to this definition"></a></dt>
<dd><p>Multiply the given activation with a suitable weight matrix to
determine the output amplitudes of each driver.</p>
<p>Use the multiplication function with integration on the synaptic
input lines. The weight matrix is configured using the function
<cite>get_synapse_matrix()</cite>, and vectors equaling the positioning of
drivers on PADI busses are used to characterize each drivers’
outputs. The parameter num_sends repeats the vector, i.e. sends
multiple events per driver for getting suitable amplitudes.
The experiment is repeated n_runs times.</p>
<p>For readout, we use at least 8 synapse columns per driver,
determined by the number of parallel measurements, and return the
median of each of those synapse blocks. The returned array of
amplitudes has one entry for each synapse driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to run on.</p></li>
<li><p><strong>activations</strong> – Activation to use in input vector. If an array is
given, each of the contained activations is tested. In this case,
the returned result will have a second, outer dimension
corresponding to the different activations.</p></li>
<li><p><strong>weight</strong> – Weight to use in synapse matrix.</p></li>
<li><p><strong>n_runs</strong> – Number of experiments to take mean from.</p></li>
<li><p><strong>num_sends</strong> – Number of events to send per driver in each
measurement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of amplitudes of each synapse driver.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.hagen.synapse_driver.SynapseDriverCalibResult.html" class="btn btn-neutral float-left" title="calix.hagen.synapse_driver.SynapseDriverCalibResult" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.hagen.HagenCalibOptions.html" class="btn btn-neutral float-right" title="calix.hagen.HagenCalibOptions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>