<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.spiking.correlation.AmplitudeCalib &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.spiking.correlation.CorrelationBranches" href="calix.spiking.correlation.CorrelationBranches.html" />
    <link rel="prev" title="calix.spiking.correlation" href="calix.spiking.correlation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../apis_python.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynn_brainscales.brainscales2.html">pynn_brainscales.brainscales2</a></li>
<li class="toctree-l3"><a class="reference internal" href="hxtorch.html">hxtorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygrenade_vx.html">pygrenade_vx</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apis_cpp.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../apis.html">BrainScaleS-2 API Documentation</a> &raquo;</li>
          <li><a href="../apis_python.html">BrainScaleS-2 API Documentation</a> &raquo;</li>
          <li><a href="calix.html">calix</a> &raquo;</li>
          <li><a href="calix.spiking.html">calix.spiking</a> &raquo;</li>
          <li><a href="calix.spiking.correlation.html">calix.spiking.correlation</a> &raquo;</li>
      <li>calix.spiking.correlation.AmplitudeCalib</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.spiking.correlation.AmplitudeCalib.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="calix-spiking-correlation-amplitudecalib">
<h1>calix.spiking.correlation.AmplitudeCalib<a class="headerlink" href="#calix-spiking-correlation-amplitudecalib" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt id="calix.spiking.correlation.AmplitudeCalib">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">AmplitudeCalib</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">target:</span> <span class="pre">Optional[Union[float</span></em>, <em class="sig-param"><span class="pre">numpy.ndarray]]</span> <span class="pre">=</span> <span class="pre">0.5</span></em>, <em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">branches:</span> <span class="pre">calix.spiking.correlation.CorrelationBranches</span> <span class="pre">=</span> <span class="pre">&lt;CorrelationBranches.CAUSAL:</span> <span class="pre">1&gt;</span></em>, <em class="sig-param"><span class="pre">amp_calib:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">time_calib:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="calix.common.base.Calib.html#calix.common.base.Calib" title="calix.common.base.Calib"><code class="xref py py-class docutils literal notranslate"><span class="pre">calix.common.base.Calib</span></code></a></p>
<p>Calibrate the correlation amplitude at delay zero.</p>
<p>Correlation traces are measured in a few quads in all CapMem
quadrants. The median amplitude, extrapolated at a delay of zero,
is estimated and the CapMem bias currents are tweaked accordingly.</p>
<p>Requirements:
* CADCs are enabled and calibrated.
* External correlation voltages (v_res_meas, v_reset) are set.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measurement</strong> – Instance of the correlation measurement class,
used for measuring results.</p></li>
<li><p><strong>quads</strong> – List of synapse quad column coordinates. Measurements
from all rows in those quads are taken as an estimate for the
characteristics of the whole quadrant. All quads in the list
are located in quadrant 0, the measurement is repeated in the
other quadrants using corresponding offsets to the coordinates.</p></li>
<li><p><a class="reference internal" href="hxtorch.spiking.CalibratedParams.html#hxtorch.spiking.CalibratedParams.log" title="hxtorch.spiking.CalibratedParams.log"><strong>log</strong></a> – Logger used to log outputs.</p></li>
<li><p><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibOptions.html#calix.spiking.correlation.CorrelationCalibOptions.branches" title="calix.spiking.correlation.CorrelationCalibOptions.branches"><strong>branches</strong></a> – Correlation branch to consider. Choose from causal,
acausal or both, using the Enum CorrelationBranches.</p></li>
<li><p><a class="reference internal" href="calix.common.boundary_check.BoundaryCheckResult.html#calix.common.boundary_check.BoundaryCheckResult.parameters" title="calix.common.boundary_check.BoundaryCheckResult.parameters"><strong>parameters</strong></a> – Last configured CapMem parameters.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="calix.spiking.correlation.AmplitudeCalib.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">target:</span> <span class="pre">Optional[Union[float</span></em>, <em class="sig-param"><span class="pre">numpy.ndarray]]</span> <span class="pre">=</span> <span class="pre">0.5</span></em>, <em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">branches:</span> <span class="pre">calix.spiking.correlation.CorrelationBranches</span> <span class="pre">=</span> <span class="pre">&lt;CorrelationBranches.CAUSAL:</span> <span class="pre">1&gt;</span></em>, <em class="sig-param"><span class="pre">amp_calib:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">time_calib:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – Target amplitude per correlated event.</p></li>
<li><p><strong>amp_calib</strong> – Amplitude calibration setting to use in all
synapses during measurement.</p></li>
<li><p><strong>time_calib</strong> – Time constant calibration setting to use in all
synapses during measurement.</p></li>
<li><p><strong>capmem_current_low</strong> – Threshold to consider a current generated
by the CapMem low. During calibration, the current will be
increased in case amplitudes cannot be measured as expected.
If the result contains low currents, a warning will be logged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.spiking.correlation.AmplitudeCalib.__init__" title="calix.spiking.correlation.AmplitudeCalib.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([target, branches, amp_calib, …])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param target</dt>
<dd class="field-odd"><p>Target amplitude per correlated event.</p>
</dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.spiking.correlation.AmplitudeCalib.configure_parameters" title="calix.spiking.correlation.AmplitudeCalib.configure_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configure_parameters</span></code></a>(builder, parameters)</p></td>
<td><p>Configure the given store bias currents in the given builder.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.spiking.correlation.AmplitudeCalib.measure_results" title="calix.spiking.correlation.AmplitudeCalib.measure_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">measure_results</span></code></a>(connection, builder)</p></td>
<td><p>Estimate correlation parameters of each quadrant.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.spiking.correlation.AmplitudeCalib.postlude" title="calix.spiking.correlation.AmplitudeCalib.postlude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">postlude</span></code></a>(connection)</p></td>
<td><p>Log a warning in case resulting CapMem currents are low.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.spiking.correlation.AmplitudeCalib.prelude" title="calix.spiking.correlation.AmplitudeCalib.prelude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prelude</span></code></a>(connection)</p></td>
<td><p>Preconfigure the chip for correlation measurements.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="calix.spiking.correlation.AmplitudeCalib.configure_parameters">
<code class="sig-name descname"><span class="pre">configure_parameters</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib.configure_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Configure the given store bias currents in the given builder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration instructions to.</p></li>
<li><p><strong>parameters</strong> – Correlation store bias current for each
quadrant.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.spiking.correlation.AmplitudeCalib.measure_results">
<code class="sig-name descname"><span class="pre">measure_results</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib.measure_results" title="Permalink to this definition"></a></dt>
<dd><p>Estimate correlation parameters of each quadrant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to run on.</p></li>
<li><p><strong>builder</strong> – Builder to run before measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of each quadrant’s amplitudes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.spiking.correlation.AmplitudeCalib.postlude">
<code class="sig-name descname"><span class="pre">postlude</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib.postlude" title="Permalink to this definition"></a></dt>
<dd><p>Log a warning in case resulting CapMem currents are low.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connection</strong> – Connection to the chip to be calibrated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.spiking.correlation.AmplitudeCalib.prelude">
<code class="sig-name descname"><span class="pre">prelude</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#calix.spiking.correlation.AmplitudeCalib.prelude" title="Permalink to this definition"></a></dt>
<dd><p>Preconfigure the chip for correlation measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connection</strong> – Connection to the chip to run on.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.spiking.correlation.html" class="btn btn-neutral float-left" title="calix.spiking.correlation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.spiking.correlation.CorrelationBranches.html" class="btn btn-neutral float-right" title="calix.spiking.correlation.CorrelationBranches" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>