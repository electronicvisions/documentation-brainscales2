<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.spiking.correlation &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.spiking.correlation.AmplitudeCalib" href="calix.spiking.correlation.AmplitudeCalib.html" />
    <link rel="prev" title="calix.spiking" href="calix.spiking.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../apis_python.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynn_brainscales.brainscales2.html">pynn_brainscales.brainscales2</a></li>
<li class="toctree-l3"><a class="reference internal" href="jaxsnn.html">jaxsnn</a></li>
<li class="toctree-l3"><a class="reference internal" href="hxtorch.html">hxtorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygrenade_vx.html">pygrenade_vx</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apis_cpp.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../apis.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="../apis_python.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="calix.html">calix</a></li>
          <li class="breadcrumb-item"><a href="calix.spiking.html">calix.spiking</a></li>
      <li class="breadcrumb-item active">calix.spiking.correlation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.spiking.correlation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-calix.spiking.correlation">
<span id="calix-spiking-correlation"></span><h1>calix.spiking.correlation<a class="headerlink" href="#module-calix.spiking.correlation" title="Permalink to this headline"></a></h1>
<p>Provides classes for calibration of the correlation
characteristics, i.e. time constants and amplitudes.</p>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.spiking.correlation.AmplitudeCalib.html#calix.spiking.correlation.AmplitudeCalib" title="calix.spiking.correlation.AmplitudeCalib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AmplitudeCalib</span></code></a>(target, …)</p></td>
<td><p>Calibrate the correlation amplitude at delay zero.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibOptions.html#calix.spiking.correlation.CorrelationCalibOptions" title="calix.spiking.correlation.CorrelationCalibOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CorrelationCalibOptions</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibResult.html#calix.spiking.correlation.CorrelationCalibResult" title="calix.spiking.correlation.CorrelationCalibResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CorrelationCalibResult</span></code></a>(target, options, …)</p></td>
<td><p>Result of a synapse correlation sensor calibration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibTarget.html#calix.spiking.correlation.CorrelationCalibTarget" title="calix.spiking.correlation.CorrelationCalibTarget"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CorrelationCalibTarget</span></code></a>(amplitude, time_constant)</p></td>
<td><p>Target parameters for correlation calibration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.spiking.correlation.TimeConstantCalib.html#calix.spiking.correlation.TimeConstantCalib" title="calix.spiking.correlation.TimeConstantCalib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeConstantCalib</span></code></a>(target, …)</p></td>
<td><p>Calibrate the correlation time constant.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Functions</p>
<dl class="py function">
<dt id="calix.spiking.correlation.calibrate">
<code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">calibrate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibTarget.html#calix.spiking.correlation.CorrelationCalibTarget" title="calix.spiking.correlation.CorrelationCalibTarget"><span class="pre">calix.spiking.correlation.CorrelationCalibTarget</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pyccalix.CorrelationCalibOptions</span><span class="p"><span class="pre">,</span> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.spiking.correlation.CorrelationCalibResult.html#calix.spiking.correlation.CorrelationCalibResult" title="calix.spiking.correlation.CorrelationCalibResult"><span class="pre">calix.spiking.correlation.CorrelationCalibResult</span></a><a class="headerlink" href="#calix.spiking.correlation.calibrate" title="Permalink to this definition"></a></dt>
<dd><p>Calibrate all synapses’ correlation parameters.</p>
<p>The CapMem bias currents are set such that the target amplitude
and time constant are reached in the median of the measured synapses.</p>
<p>If desired, the individual synapses’ calibration bits are then
used to shrink the deviations between synapses. This takes some
two hours of runtime, and can be enabled via the <cite>calibrate_synapses</cite>
option.</p>
<p>Note that a strong asymmetry between causal and acausal traces
is present on many synapses. This cannot be countered by calibration,
as calibration parameters apply to both branches equally.
In case your experiment uses only one branch, you can set the
<cite>branches</cite> option accordingly, so that only one is considered
during calibration.</p>
<p>Requirements:
* CADCs are enabled and calibrated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to calibrate.</p></li>
<li><p><strong>target</strong> – Calibration targets, given as an instance of
CorrelationCalibTargets.</p></li>
<li><p><strong>options</strong> – Further options for calibration, given as an
instance of CorrelationCalibOptions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Correlation calib result.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.spiking.correlation.calibrate_synapses">
<code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">calibrate_synapses</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calib_result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.spiking.correlation.CorrelationCalibResult.html#calix.spiking.correlation.CorrelationCalibResult" title="calix.spiking.correlation.CorrelationCalibResult"><span class="pre">calix.spiking.correlation.CorrelationCalibResult</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#calix.spiking.correlation.calibrate_synapses" title="Permalink to this definition"></a></dt>
<dd><p>Set the individual synapses’ calibration bits.</p>
<p>The bits are selected such that the deviation from the targets
is smallest. To calculate the deviation, the relative difference
in amplitude and time constant is weighted according to the
time_constant_priority option and then added squared.</p>
<p>This function will be called automatically as part of the <cite>calibrate</cite>
function, if individual synapses are to be calibrated.</p>
<p>Requirements:
* CADCs are enabled and calibrated.
* Correlation sensors are enabled and configured with CapMem</p>
<blockquote>
<div><p>biases suitable for the given targets. This can be achieved
using the <cite>calibrate</cite> function.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to calibrate.</p></li>
<li><p><strong>calib_result</strong> – Correlation calib result, with CapMem biases
already calibrated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.spiking.correlation.correlation_branches_to_axes">
<code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">correlation_branches_to_axes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branches</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">slice</span><a class="headerlink" href="#calix.spiking.correlation.correlation_branches_to_axes" title="Permalink to this definition"></a></dt>
<dd><p>Return the appropriate slice to apply to the result data in order
to select the respective correlation branches.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Slice to apply along correlation branch dimension of
result array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.spiking.correlation.dataclass">
<code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">dataclass</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe_hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frozen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weakref_slot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.spiking.correlation.dataclass" title="Permalink to this definition"></a></dt>
<dd><p>Add dunder methods based on the fields defined in the class.</p>
<p>Examines PEP 526 __annotations__ to determine fields.</p>
<p>If init is true, an __init__() method is added to the class. If repr
is true, a __repr__() method is added. If order is true, rich
comparison dunder methods are added. If unsafe_hash is true, a
__hash__() method is added. If frozen is true, fields may not be
assigned to after instance creation. If match_args is true, the
__match_args__ tuple is added. If kw_only is true, then by default
all fields are keyword-only. If slots is true, a new class with a
__slots__ attribute is returned.</p>
</dd></dl>

<dl class="py function">
<dt id="calix.spiking.correlation.field">
<code class="sig-prename descclassname"><span class="pre">calix.spiking.correlation.</span></code><code class="sig-name descname"><span class="pre">field</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">default=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">default_factory=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">init=True</span></em>, <em class="sig-param"><span class="pre">repr=True</span></em>, <em class="sig-param"><span class="pre">hash=None</span></em>, <em class="sig-param"><span class="pre">compare=True</span></em>, <em class="sig-param"><span class="pre">metadata=None</span></em>, <em class="sig-param"><span class="pre">kw_only=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.spiking.correlation.field" title="Permalink to this definition"></a></dt>
<dd><p>Return an object to identify dataclass fields.</p>
<p>default is the default value of the field.  default_factory is a
0-argument function called to initialize a field’s value.  If init
is true, the field will be a parameter to the class’s __init__()
function.  If repr is true, the field will be included in the
object’s repr().  If hash is true, the field will be included in the
object’s hash().  If compare is true, the field will be used in
comparison functions.  metadata, if specified, must be a mapping
which is stored but not otherwise examined by dataclass.  If kw_only
is true, the field will become a keyword-only parameter to
__init__().</p>
<p>It is an error to specify both default and default_factory.</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.spiking.html" class="btn btn-neutral float-left" title="calix.spiking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.spiking.correlation.AmplitudeCalib.html" class="btn btn-neutral float-right" title="calix.spiking.correlation.AmplitudeCalib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>