<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.common.synapse.DACBiasCalibCADC &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.common.synapse.DACBiasCalibMADC" href="calix.common.synapse.DACBiasCalibMADC.html" />
    <link rel="prev" title="calix.common.synapse" href="calix.common.synapse.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api_pynn-brainscales2.html">PyNN API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_hxtorch.html">hxtorch API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_grenade.html">grenade API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_haldls.html">haldls API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_lola.html">lola API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_stadls.html">stadls API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_fisch.html">fisch API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_hxcomm.html">hxcomm API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api_calix.html">calix API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calibrate.html">calix.calibrate</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_hate.html">hate API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../apis.html">BrainScaleS-2 API Documentation</a> &raquo;</li>
          <li><a href="../api_calix.html">API Reference: calix</a> &raquo;</li>
          <li><a href="calix.html">calix</a> &raquo;</li>
          <li><a href="calix.common.html">calix.common</a> &raquo;</li>
          <li><a href="calix.common.synapse.html">calix.common.synapse</a> &raquo;</li>
      <li>calix.common.synapse.DACBiasCalibCADC</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.common.synapse.DACBiasCalibCADC.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="calix-common-synapse-dacbiascalibcadc">
<h1>calix.common.synapse.DACBiasCalibCADC<a class="headerlink" href="#calix-common-synapse-dacbiascalibcadc" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt id="calix.common.synapse.DACBiasCalibCADC">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">calix.common.synapse.</span></code><code class="sig-name descname"><span class="pre">DACBiasCalibCADC</span></code><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="calix.common.base.Calib.html#calix.common.base.Calib" title="calix.common.base.Calib"><code class="xref py py-class docutils literal notranslate"><span class="pre">calix.common.base.Calib</span></code></a></p>
<p>Calibrates synapse DAC bias currents such that the amplitudes
received at all neurons match those of the weakest quadrant.</p>
<p>The voltage drop on the synapse lines is measured using the CADC.
The synaptic inputs are disabled and the synaptic time constant
is set maximum. The initial value of the synaptic time constant and input
strength are not restored. The digital configuration of the neuron is
restored at the end of the calibration.</p>
<p>Requirements:
* CADCs are connected to the neuron readout.
* Bias currents are set such that synaptic input lines can be</p>
<blockquote>
<div><p>observed on the neuron readout: The neurons’ readout amplifiers
and the source followers in the neurons’ synaptic inputs need
to be biased.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>original_neuron_config</strong> – Neuron configs before calibration,
read during prelude, restored in postlude.</p>
</dd>
</dl>
<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.__init__">
<code class="sig-name descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.__init__" title="calix.common.synapse.DACBiasCalibCADC.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>()</p></td>
<td><p>Initialize self.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.configure_parameters" title="calix.common.synapse.DACBiasCalibCADC.configure_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configure_parameters</span></code></a>(builder, parameters)</p></td>
<td><p>Configures the given array of synapse DAC bias currents.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.measure_results" title="calix.common.synapse.DACBiasCalibCADC.measure_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">measure_results</span></code></a>(connection, builder)</p></td>
<td><p>Measures the drop in synaptic input potentials for all synapse columns.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.postlude" title="calix.common.synapse.DACBiasCalibCADC.postlude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">postlude</span></code></a>(connection)</p></td>
<td><p>Restore original neuron configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.prelude" title="calix.common.synapse.DACBiasCalibCADC.prelude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prelude</span></code></a>(connection)</p></td>
<td><p>Prepares chip for calibration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#calix.common.synapse.DACBiasCalibCADC.run" title="calix.common.synapse.DACBiasCalibCADC.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>(connection, algorithm[, target])</p></td>
<td><p>Use the provided algorithm to find optimal parameters.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.configure_parameters">
<code class="sig-name descname"><span class="pre">configure_parameters</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.configure_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Configures the given array of synapse DAC bias currents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration instructions to.</p></li>
<li><p><strong>parameters</strong> – Array of bias currents to set up.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.measure_results">
<code class="sig-name descname"><span class="pre">measure_results</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.measure_results" title="Permalink to this definition"></a></dt>
<dd><p>Measures the drop in synaptic input potentials for all
synapse columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to a chip.</p></li>
<li><p><strong>builder</strong> – Builder to append read instructions to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array containing the median drop in synaptic input
potential per quadrant.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.postlude">
<code class="sig-name descname"><span class="pre">postlude</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.postlude" title="Permalink to this definition"></a></dt>
<dd><p>Restore original neuron configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connection</strong> – Connection to the chip to calibrate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.prelude">
<code class="sig-name descname"><span class="pre">prelude</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.prelude" title="Permalink to this definition"></a></dt>
<dd><p>Prepares chip for calibration.</p>
<p>Reads the current neuron configuration which will be restored at the
end of the calibration. After that synaptic inputs are disabled.
Configures synapse drivers to stimulate the necessary input.</p>
<p>Measures the amplitudes of synapses per quadrant once, calculates the
median amplitude per quadrant, and sets the ivar <cite>target</cite> to the
minimum of these median amplitudes (which ensures the target can be
reached, in case the maximum bias current of 1022 was used before).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>connection</strong> – Connection to the chip to calibrate.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="calix.common.exceptions.CalibNotSuccessful.html#calix.common.exceptions.CalibNotSuccessful" title="calix.common.exceptions.CalibNotSuccessful"><strong>CalibNotSuccessful</strong></a> – If amplitudes can not be brought
into a reliable range by adjusting the number of enabled
synapse rows.</p></li>
<li><p><strong>AssertionError</strong> – If the number of enabled synapse rows is
not updated in a given iteration. This indicates a bug and
should not happen.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="calix.common.synapse.DACBiasCalibCADC.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.Algorithm.html#calix.common.base.Algorithm" title="calix.common.base.Algorithm"><span class="pre">calix.common.base.Algorithm</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">numbers.Integral</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.ParameterCalibResult.html#calix.common.base.ParameterCalibResult" title="calix.common.base.ParameterCalibResult"><span class="pre">calix.common.base.ParameterCalibResult</span></a><a class="headerlink" href="#calix.common.synapse.DACBiasCalibCADC.run" title="Permalink to this definition"></a></dt>
<dd><p>Use the provided algorithm to find optimal parameters.</p>
<p>Calls prelude function, calls algorithm.run(), calls postlude function.
If self.target is not defined after the prelude function, the
calibration target is required as a parameter to this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to calibrate.</p></li>
<li><p><strong>algorithm</strong> – Instance of an algorithm to be used for
calibration. Will be hooked to the calibration during running
and unhooked afterwards.</p></li>
<li><p><strong>target</strong> – Target result to be aimed for. If given, this target
is used. If None, the attribute self.target is used.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – If neither the target parameter or the attribute
self.target are defined.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ParameterCalibResult, containing the optimal
parameters.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.common.synapse.html" class="btn btn-neutral float-left" title="calix.common.synapse" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.common.synapse.DACBiasCalibMADC.html" class="btn btn-neutral float-right" title="calix.common.synapse.DACBiasCalibMADC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>