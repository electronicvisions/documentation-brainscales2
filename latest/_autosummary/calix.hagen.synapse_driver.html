<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.hagen.synapse_driver &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.hagen.synapse_driver.HagenDACOffsetCalib" href="calix.hagen.synapse_driver.HagenDACOffsetCalib.html" />
    <link rel="prev" title="calix.hagen.neuron_synin_coba.InhCOBAReferenceCalib" href="calix.hagen.neuron_synin_coba.InhCOBAReferenceCalib.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../apis_python.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynn_brainscales.brainscales2.html">pynn_brainscales.brainscales2</a></li>
<li class="toctree-l3"><a class="reference internal" href="jaxsnn.html">jaxsnn</a></li>
<li class="toctree-l3"><a class="reference internal" href="hxtorch.html">hxtorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygrenade_vx.html">pygrenade_vx</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apis_cpp.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../apis.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="../apis_python.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="calix.html">calix</a></li>
          <li class="breadcrumb-item"><a href="calix.hagen.html">calix.hagen</a></li>
      <li class="breadcrumb-item active">calix.hagen.synapse_driver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.hagen.synapse_driver.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-calix.hagen.synapse_driver">
<span id="calix-hagen-synapse-driver"></span><h1>calix.hagen.synapse_driver<a class="headerlink" href="#module-calix.hagen.synapse_driver" title="Permalink to this headline"></a></h1>
<p>Provides a function to calibrate the synapse drivers for hagen-mode
input activation encoding. This boils down to calibrating the STP
ramp current such that the emitted amplitudes utilize the available
dynamic range, and calibrating the hagen-mode DAC offsets such that
different drivers yield the same amplitudes.</p>
<p>These calibrations are performed on the synaptic input lines,
therefore we require calibrated CADCs, but the neurons don’t need to
be calibrated.</p>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.hagen.synapse_driver.HagenDACOffsetCalib.html#calix.hagen.synapse_driver.HagenDACOffsetCalib" title="calix.hagen.synapse_driver.HagenDACOffsetCalib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HagenDACOffsetCalib</span></code></a>()</p></td>
<td><p>Search Hagen-mode DAC offset settings such that drivers yield the same pulse lengths.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="calix.hagen.synapse_driver.STPRampCalib.html#calix.hagen.synapse_driver.STPRampCalib" title="calix.hagen.synapse_driver.STPRampCalib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">STPRampCalib</span></code></a>()</p></td>
<td><p>Search synapse driver STP ramp currents such that the mean amplitudes of drivers on different CapMem blocks are the same.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.hagen.synapse_driver.SynapseDriverCalibOptions.html#calix.hagen.synapse_driver.SynapseDriverCalibOptions" title="calix.hagen.synapse_driver.SynapseDriverCalibOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SynapseDriverCalibOptions</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="calix.hagen.synapse_driver.SynapseDriverCalibResult.html#calix.hagen.synapse_driver.SynapseDriverCalibResult" title="calix.hagen.synapse_driver.SynapseDriverCalibResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SynapseDriverCalibResult</span></code></a>(target, options, …)</p></td>
<td><p>Result object of a synapse driver calibration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.hagen.synapse_driver.SynapseDriverMeasurement.html#calix.hagen.synapse_driver.SynapseDriverMeasurement" title="calix.hagen.synapse_driver.SynapseDriverMeasurement"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SynapseDriverMeasurement</span></code></a>(n_parallel_measurements)</p></td>
<td><p>Provides a function to measure output amplitudes of each synapse driver.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Functions</p>
<dl class="py function">
<dt id="calix.hagen.synapse_driver.calibrate">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.synapse_driver.</span></code><code class="sig-name descname"><span class="pre">calibrate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pyccalix.SynapseDriverCalibOptions</span><span class="p"><span class="pre">,</span> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.hagen.synapse_driver.SynapseDriverCalibResult.html#calix.hagen.synapse_driver.SynapseDriverCalibResult" title="calix.hagen.synapse_driver.SynapseDriverCalibResult"><span class="pre">calix.hagen.synapse_driver.SynapseDriverCalibResult</span></a><a class="headerlink" href="#calix.hagen.synapse_driver.calibrate" title="Permalink to this definition"></a></dt>
<dd><p>Calibrate the synapse drivers’ STP offsets such that the amplitudes
match when using hagen mode.</p>
<p>The STP ramp currents are calibrated such that drivers connected
to each CapMem Block use the available dynamic range. To achieve
that, we (1) select the drivers with median amplitudes per quadrant,
(2) measure the maximum amplitudes generated by these drivers,
(3) set the ramp current such that the activation scales amplitudes
sensibly.</p>
<p>The hagen-mode DAC offsets are calibrated for each driver afterwards.</p>
<p>Requirements:
* Chip is initialized.
* CADCs are calibrated. You can use <cite>calix.common.cadc.calibrate()</cite></p>
<blockquote>
<div><p>to achieve this.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Neuron readout is connected to the CADC lines and global bias</dt><dd><p>currents are set. You can use
<cite>calix.hagen.neuron_helpers.configure_chip()</cite> to achieve this.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to run on.</p></li>
<li><p><strong>options</strong> – Calib options, given as an instance of
SynapseDriverCalibOptions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SynapseDriverCalibResult containing STP ramp currents for
the CapMem blocks, offsets for the drivers, and a success mask.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.synapse_driver.dataclass">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.synapse_driver.</span></code><code class="sig-name descname"><span class="pre">dataclass</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unsafe_hash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frozen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.hagen.synapse_driver.dataclass" title="Permalink to this definition"></a></dt>
<dd><p>Returns the same class as was passed in, with dunder methods
added based on the fields defined in the class.</p>
<p>Examines PEP 526 __annotations__ to determine fields.</p>
<p>If init is true, an __init__() method is added to the class. If
repr is true, a __repr__() method is added. If order is true, rich
comparison dunder methods are added. If unsafe_hash is true, a
__hash__() method function is added. If frozen is true, fields may
not be assigned to after instance creation. If match_args is true,
the __match_args__ tuple is added. If kw_only is true, then by
default all fields are keyword-only. If slots is true, an
__slots__ attribute is added.</p>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.synapse_driver.field">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.synapse_driver.</span></code><code class="sig-name descname"><span class="pre">field</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">default=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">default_factory=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">init=True</span></em>, <em class="sig-param"><span class="pre">repr=True</span></em>, <em class="sig-param"><span class="pre">hash=None</span></em>, <em class="sig-param"><span class="pre">compare=True</span></em>, <em class="sig-param"><span class="pre">metadata=None</span></em>, <em class="sig-param"><span class="pre">kw_only=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#calix.hagen.synapse_driver.field" title="Permalink to this definition"></a></dt>
<dd><p>Return an object to identify dataclass fields.</p>
<p>default is the default value of the field.  default_factory is a
0-argument function called to initialize a field’s value.  If init
is true, the field will be a parameter to the class’s __init__()
function.  If repr is true, the field will be included in the
object’s repr().  If hash is true, the field will be included in the
object’s hash().  If compare is true, the field will be used in
comparison functions.  metadata, if specified, must be a mapping
which is stored but not otherwise examined by dataclass.  If kw_only
is true, the field will become a keyword-only parameter to
__init__().</p>
<p>It is an error to specify both default and default_factory.</p>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.synapse_driver.preconfigure_capmem">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.synapse_driver.</span></code><code class="sig-name descname"><span class="pre">preconfigure_capmem</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.synapse_driver.preconfigure_capmem" title="Permalink to this definition"></a></dt>
<dd><p>Set necessary static biases required for hagen mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>builder</strong> – Builder to append configuration instructions to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration instructions appended.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.hagen.neuron_synin_coba.InhCOBAReferenceCalib.html" class="btn btn-neutral float-left" title="calix.hagen.neuron_synin_coba.InhCOBAReferenceCalib" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.hagen.synapse_driver.HagenDACOffsetCalib.html" class="btn btn-neutral float-right" title="calix.hagen.synapse_driver.HagenDACOffsetCalib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>