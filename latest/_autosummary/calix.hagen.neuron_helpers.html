<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calix.hagen.neuron_helpers &mdash; BrainScaleS-2 Documentation 0.0.1 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/visions.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calix.hagen.neuron_helpers.CADCReadNeurons" href="calix.hagen.neuron_helpers.CADCReadNeurons.html" />
    <link rel="prev" title="calix.hagen.neuron_evaluation" href="calix.hagen.neuron_evaluation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BrainScaleS-2 Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../brainscales2-demos/index.html">Demos &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software_components.html">Software Components</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../apis.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../apis_python.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pynn_brainscales.brainscales2.html">pynn_brainscales.brainscales2</a></li>
<li class="toctree-l3"><a class="reference internal" href="jaxsnn.html">jaxsnn</a></li>
<li class="toctree-l3"><a class="reference internal" href="hxtorch.html">hxtorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygrenade_vx.html">pygrenade_vx</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="calix.html">calix</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="calix.calib_cache.html">calix.calib_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.common.html">calix.common</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.constants.html">calix.constants</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="calix.hagen.html">calix.hagen</a></li>
<li class="toctree-l4"><a class="reference internal" href="calix.spiking.html">calix.spiking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apis_cpp.html">C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BrainScaleS-2 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../apis.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="../apis_python.html">BrainScaleS-2 API Documentation</a></li>
          <li class="breadcrumb-item"><a href="calix.html">calix</a></li>
          <li class="breadcrumb-item"><a href="calix.hagen.html">calix.hagen</a></li>
      <li class="breadcrumb-item active">calix.hagen.neuron_helpers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/calix.hagen.neuron_helpers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-calix.hagen.neuron_helpers">
<span id="calix-hagen-neuron-helpers"></span><h1>calix.hagen.neuron_helpers<a class="headerlink" href="#module-calix.hagen.neuron_helpers" title="Permalink to this headline"></a></h1>
<p>Provides functions for reading neuron membrane potentials and configuring
them for integration.</p>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="calix.hagen.neuron_helpers.CADCReadNeurons.html#calix.hagen.neuron_helpers.CADCReadNeurons" title="calix.hagen.neuron_helpers.CADCReadNeurons"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CADCReadNeurons</span></code></a></p></td>
<td><p>Read CADC channels in both synrams, and return a Result object, which interprets the reads as neuron results.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Functions</p>
<dl class="py function">
<dt id="calix.hagen.neuron_helpers.cadc_read_neuron_potentials">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">cadc_read_neuron_potentials</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.neuron_helpers.cadc_read_neuron_potentials" title="Permalink to this definition"></a></dt>
<dd><p>Read from the CADCs and interpret the results as membrane potentials.</p>
<p>Use acausal and causal channels for reading neuron output voltages.
We expect the neurons’ readout amplifiers to be enabled and connected
to both acausal and causal channels. We return the mean of the two
channels as a neuron membrane read.</p>
<p>When supplying a builder, it is used to read.
Note that between reading top and bottom neurons, some 100 us pass,
i.e. this function is not suitable for reading integrated amplitudes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to chip to read membrane potentials.</p></li>
<li><p><strong>builder</strong> – Builder to append read instructions to before execution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Numpy array containing the results for all neurons.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.cadc_read_neurons_repetitive">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">cadc_read_neurons_repetitive</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synram</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhalco_hicann_dls_vx_v3.SynramOnDLS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_reads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">quantities.quantity.Quantity</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">array(1000.)</span> <span class="pre">*</span> <span class="pre">us</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.neuron_helpers.cadc_read_neurons_repetitive" title="Permalink to this definition"></a></dt>
<dd><p>Read the potential from all neurons multiple times.</p>
<p>Reads all CADC channels multiple times and calculates the mean of
acausal and causal reads as neuron voltage. Note that the CADCs
have to be connected to the neurons for this to make sense.
Returns a 2-dimensional array of the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to the chip to run on.</p></li>
<li><p><strong>builder</strong> – Builder to use for reads. Gets executed along the way.</p></li>
<li><p><strong>synram</strong> – Synram coordinate to read neuron potentials from.</p></li>
<li><p><strong>n_reads</strong> – Number of reads to execute for all channels.</p></li>
<li><p><strong>wait_time</strong> – Time to wait between two successive reads.</p></li>
<li><p><strong>reset</strong> – Select whether the neurons’ membranes are connected
to the reset potential some 30 us before measuring.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array containing all obtained values. The first dimension is
the number of reads, the second the number of neurons on synram.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.configure_chip">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">configure_chip</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_leak</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">700</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_synapse_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readout_neuron</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pyhalco_hicann_dls_vx_v3.AtomicNeuronOnDLS</span><span class="p"><span class="pre">,</span> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">pyhalco_hicann_dls_vx_v3.CapMemRowOnCapMemBlock</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#calix.hagen.neuron_helpers.configure_chip" title="Permalink to this definition"></a></dt>
<dd><p>Does all the necessary configurations on the chip to start calibrating
the neurons for usage in hagen mode.
Configures neurons statically for integration, sets synapse connections,
global synapse driver and PADI settings, CapMem and readout settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration to.</p></li>
<li><p><strong>v_leak</strong> – Leak potential CapMem setting to start calibrations with.</p></li>
<li><p><strong>n_synapse_rows</strong> – Number of synapse rows to enable.</p></li>
<li><p><strong>readout_neuron</strong> – Coordinate of the neuron to be connected to
a readout pad, i.e. can be observed using an oscilloscope.
or the MADC. The neuron is connected to the upper pad via
readout mux 0, CADC ramp is connected to the lower pad
via readout mux 1.
If None, neither the CADC ramp nor the neuron is connected
to the pads, the readout chain configuration is untouched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple containing:
* Builder with configuration instructions appended.
* Dict of configured neuron CapMem parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.configure_integration">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">configure_integration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.configure_integration" title="Permalink to this definition"></a></dt>
<dd><p>Applies static configuration required for integrate-operation of
the neurons in hagen mode.</p>
<p>Configures the chip such that the CADCs can read out neuron membranes.
This means setting the switches to connect the columns to the CADC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>builder</strong> – Builder to append configuration instructions to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.configure_readout_neurons">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">configure_readout_neurons</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">readout_neuron</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhalco_hicann_dls_vx_v3.AtomicNeuronOnDLS</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.configure_readout_neurons" title="Permalink to this definition"></a></dt>
<dd><p>Configure the readout such that the membrane potential of one neuron
and the CADC ramp is available at the pads.</p>
<p>When using an oscilloscope, you may set the trigger to the CADC
ramp in order to observe CADC measurements. Note, however,
that connecting a simple cable to the CADC ramp output will
not suffice, a low-capacitance probe is required to read the
ramp correctly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration to.</p></li>
<li><p><strong>readout_neuron</strong> – Coordinate of the neuron to be connected to
a readout pad, i.e. can be observed using an oscilloscope.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration instructions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.configure_stp_and_padi">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">configure_stp_and_padi</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.configure_stp_and_padi" title="Permalink to this definition"></a></dt>
<dd><p>Configure global STP config and PADI bus config to default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>builder</strong> – Builder to append instructions to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with instructions appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.configure_synapses">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">configure_synapses</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_synapse_rows</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stimulation_address</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhalco_hicann_dls_vx_v3.SynapseLabel</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">SynapseLabel(0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhaldls_vx_v3.SynapseWeightQuad.Value</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">Value(10)</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.configure_synapses" title="Permalink to this definition"></a></dt>
<dd><p>Configures the synapses such that events can be sent to the neurons.
The given number of synapse rows are enabled.
This function does not configure synapse drivers, as they need to
select excitatory/inhibitory row modes when events are sent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration instructions to.</p></li>
<li><p><strong>n_synapse_rows</strong> – Number of rows in which the synapses are enabled.</p></li>
<li><p><strong>stimulation_address</strong> – Address to use for inputs. Disabled synapses
get set to (stimulation_address + 1) % address_range.</p></li>
<li><p><strong>weight</strong> – Weight of enabled synapses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.enable_all_synapse_drivers">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">enable_all_synapse_drivers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhaldls_vx_v3.SynapseDriverConfig.RowMode</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.enable_all_synapse_drivers" title="Permalink to this definition"></a></dt>
<dd><p>Configure synapse drivers to drive both connected rows of
synapses either excitatory or inhibitory.
All drivers listen to all row select addresses of PADI events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append configuration to.</p></li>
<li><p><strong>row_mode</strong> – Row mode (excitatory/inhibitory) to use for both rows.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with configuration appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.inspect_read_tickets">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">inspect_read_tickets</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_tickets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">pystadls_vx_v3.ContainerTicket</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pystadls_vx_v3.ContainerTicket</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.neuron_helpers.inspect_read_tickets" title="Permalink to this definition"></a></dt>
<dd><p>Iterate the given read tickets and return the contained results as an
array.</p>
<p>The values are extracted from the tickets and for each column (and ticket)
the average of the causal and acausal channel is calculated. Note
that this only makes sense if both causal and acausal channels are
connected to the same potential, here reading from the neurons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>read_tickets</strong> – List of read tickets to be evaluated, or single
ticket.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of CADC averaged reads. If a single ticket is provided,
the array is one-dimensional, containing results for all reads
in a row. If a list of tickets is provided, the array is
two-dimensional, with the outer dimension matching the order of
tickets in the list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.neuron_backend_config_default">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">neuron_backend_config_default</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">pyhaldls_vx_v3.NeuronBackendConfig</span><a class="headerlink" href="#calix.hagen.neuron_helpers.neuron_backend_config_default" title="Permalink to this definition"></a></dt>
<dd><p>Return a neuron backend config suitable for hagen mode.</p>
<p>Only the refractory time settings (counter and clock) are set,
otherwise it is default constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>NeuronBackendConfig suitable for integration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.neuron_config_default">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">neuron_config_default</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">pyhaldls_vx_v3.NeuronConfig</span><a class="headerlink" href="#calix.hagen.neuron_helpers.neuron_config_default" title="Permalink to this definition"></a></dt>
<dd><p>Return a neuron configuration suitable for integration.</p>
<p>Mainly, the synaptic inputs and membrane readout get enabled.
Enabling leak divisions allows to achieve long membrane time constants,
as required for integration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>NeuronConfig suitable for integration.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.reconfigure_synaptic_input">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">reconfigure_synaptic_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhxcomm_vx.ConnectionHandle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excitatory_biases</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inhibitory_biases</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#calix.hagen.neuron_helpers.reconfigure_synaptic_input" title="Permalink to this definition"></a></dt>
<dd><p>Reconfigures the excitatory and inhibitory synaptic inputs of all neurons.</p>
<p>If excitatory_biases are given, they are written to the excitatory
synaptic input bias current cells. If the bias current is zero,
it is disabled in the neuron config, if another number is given,
it is enabled. If a single integer is given, all neurons are configured
to this value plus some noise. If an array of values is provided,
each neuron’s synaptic input OTA bias is set to the given values.</p>
<p>If excitatory_biases are None, the excitatory synaptic input is not
reconfigured at all.
Configuring the inhibitory synaptic input works similarly.</p>
<p>This function reads the current neuron config, turns on/off the desired
synaptic inputs as described above, and writes the config back to the
neurons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Connection to chip to run on.</p></li>
<li><p><strong>excitatory_biases</strong> – Neuron excitatory synaptic input OTA
bias current setting to configure.</p></li>
<li><p><strong>inhibitory_biases</strong> – Neuron excitatory synaptic input OTA
bias current setting to configure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.reset_neurons">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">reset_neurons</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">synram</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pyhalco_hicann_dls_vx_v3.SynramOnDLS</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.reset_neurons" title="Permalink to this definition"></a></dt>
<dd><p>Trigger an artificial reset in all neurons.</p>
<p>The membrane potential gets pulled back to the reset potential.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append reset instructions to.</p></li>
<li><p><strong>synram</strong> – Synram of neurons to be reset. If None, all neurons on
the chip are reset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with reset instructions appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.reshape_neuron_quadrants">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">reshape_neuron_quadrants</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neuron_reads</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="headerlink" href="#calix.hagen.neuron_helpers.reshape_neuron_quadrants" title="Permalink to this definition"></a></dt>
<dd><p>Reshape the flat reads for all neurons on the chip to a two-dimensional
array containing the 4 quadrants in the first dimension and 128 neuron
reads each in the second dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>neuron_reads</strong> – Flat array of 512 neuron reads.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Reshaped array containing quadrant results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.set_analog_neuron_config">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">set_analog_neuron_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_leak</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_leak</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">pyhalco_hicann_dls_vx_v3.CapMemRowOnCapMemBlock</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#calix.hagen.neuron_helpers.set_analog_neuron_config" title="Permalink to this definition"></a></dt>
<dd><p>Configure all neurons’ CapMem cells to the given v_leak potential and
the given i_leak bias current. The other parameters are chosen as
usable defaults, the reset potential is set equal to the leak
potential. Also, we turn off the synaptic input bias currents,
since the synaptic inputs can not be used without calibration. The
reset bias current is set maximum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>builder</strong> – Builder to append the configuration to.</p></li>
<li><p><strong>v_leak</strong> – CapMem setting of the leak potential for all neurons.
If an array is given, it is written to the neurons following
enumeration of <a href="#id1"><span class="problematic" id="id2">`</span></a>halco.NeuronConfig`s. If a single integer is
given, some noise (+- 5) is added before writing the values.
The reset voltage is set as well, always equal to the leak voltage.</p></li>
<li><p><strong>i_leak</strong> – CapMem setting of the leak bias current for all
neurons, noise will be added as for v_leak.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple containing:
* Builder with configuration instructions appended.
* Dict containing the exact configured parameters for each neuron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="calix.hagen.neuron_helpers.set_global_capmem_config">
<code class="sig-prename descclassname"><span class="pre">calix.hagen.neuron_helpers.</span></code><code class="sig-name descname"><span class="pre">set_global_capmem_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="calix.common.base.WriteRecordingPlaybackProgramBuilder.html#calix.common.base.WriteRecordingPlaybackProgramBuilder" title="calix.common.base.WriteRecordingPlaybackProgramBuilder"><span class="pre">calix.common.base.WriteRecordingPlaybackProgramBuilder</span></a><a class="headerlink" href="#calix.hagen.neuron_helpers.set_global_capmem_config" title="Permalink to this definition"></a></dt>
<dd><p>Set required global bias currents to static values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>builder</strong> – Builder to append instructions to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Builder with instructions appended.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calix.hagen.neuron_evaluation.html" class="btn btn-neutral float-left" title="calix.hagen.neuron_evaluation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calix.hagen.neuron_helpers.CADCReadNeurons.html" class="btn btn-neutral float-right" title="calix.hagen.neuron_helpers.CADCReadNeurons" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Electronic Vision(s).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>